import{p as b,av as V,l as B,a2 as v,o as E,j as w,t as y,e as h,a0 as C,a6 as P,Z as k,Y as M,w as U,V as $,aw as q}from"./index.2ed21d0e.js";const O=b({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),R=b({value:null,disabled:Boolean,selectedClass:String},"group-item");function W(t,r){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const e=v("useGroupItem");if(!e)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const n=k();C(Symbol.for(`${r.description}:id`),n);const l=M(r,null);if(!l){if(!u)return l;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${r.description}`)}const m=y(t,"value"),I=h(()=>l.disabled.value||t.disabled);l.register({id:n,value:m,disabled:I},e),w(()=>{l.unregister(n)});const f=h(()=>l.isSelected(n)),p=h(()=>f.value&&[l.selectedClass.value,t.selectedClass]);return U(f,g=>{e.emit("group:selected",{value:g})}),{id:n,isSelected:f,toggle:()=>l.select(n,!f.value),select:g=>l.select(n,g),selectedClass:p,value:m,disabled:I,group:l}}function Y(t,r){let u=!1;const e=V([]),n=B(t,"modelValue",[],s=>s==null?[]:S(e,$(s)),s=>{const i=F(e,s);return t.multiple?i:i[0]}),l=v("useGroup");function m(s,i){const o=s,d=Symbol.for(`${r.description}:id`),c=q(d,l==null?void 0:l.vnode).indexOf(i);c>-1?e.splice(c,0,o):e.push(o)}function I(s){if(u)return;f();const i=e.findIndex(o=>o.id===s);e.splice(i,1)}function f(){const s=e.find(i=>!i.disabled);s&&t.mandatory==="force"&&!n.value.length&&(n.value=[s.id])}E(()=>{f()}),w(()=>{u=!0});function p(s,i){const o=e.find(d=>d.id===s);if(!(i&&(o==null?void 0:o.disabled)))if(t.multiple){const d=n.value.slice(),a=d.findIndex(G=>G===s),c=~a;if(i=i!=null?i:!c,c&&t.mandatory&&d.length<=1||!c&&t.max!=null&&d.length+1>t.max)return;a<0&&i?d.push(s):a>=0&&!i&&d.splice(a,1),n.value=d}else{const d=n.value.includes(s);if(t.mandatory&&d)return;n.value=(i!=null?i:!d)?[s]:[]}}function g(s){if(t.multiple,n.value.length){const i=n.value[0],o=e.findIndex(c=>c.id===i);let d=(o+s)%e.length,a=e[d];for(;a.disabled&&d!==o;)d=(d+s)%e.length,a=e[d];if(a.disabled)return;n.value=[e[d].id]}else{const i=e.find(o=>!o.disabled);i&&(n.value=[i.id])}}const x={register:m,unregister:I,selected:n,select:p,disabled:y(t,"disabled"),prev:()=>g(e.length-1),next:()=>g(1),isSelected:s=>n.value.includes(s),selectedClass:h(()=>t.selectedClass),items:h(()=>e),getItemIndex:s=>A(e,s)};return C(r,x),x}function A(t,r){const u=S(t,[r]);return u.length?t.findIndex(e=>e.id===u[0]):-1}function S(t,r){const u=[];return r.forEach(e=>{const n=t.find(m=>P(e,m.value)),l=t[e];(n==null?void 0:n.value)!=null?u.push(n.id):l!=null&&u.push(l.id)}),u}function F(t,r){const u=[];return r.forEach(e=>{const n=t.findIndex(l=>l.id===e);if(~n){const l=t[n];u.push(l.value!=null?l.value:n)}}),u}export{R as a,W as b,O as m,Y as u};
